import{r as o,j as c,L as u}from"./index-CJ8rvpp-.js";import{u as d}from"./useTranslation-BF9o2nVe.js";const f=o.createContext({}),k=n=>{const{t}=d("common"),e=o.useContext(f),s=o.useRef(!1),l=()=>s.current,a=i=>{s.current=i,i?r("add"):n.listItemCount>0&&r("hide")},r=i=>{e.collapseLink&&e.collapseLink.current&&(i==="hide"?(e.collapseLink.current.classList.remove("add-items"),e.collapseLink.current.classList.add("hide-form"),e.collapseLink.current.innerHTML=t("hide-form")):(e.collapseLink.current.classList.add("add-items"),e.collapseLink.current.classList.remove("hide-form"),e.collapseLink.current.innerHTML=t("add-items")))};return o.useEffect(()=>{n.listItemCount>0?s.current=!0:(e.collapseLink&&e.collapseLink.current&&(e.collapseLink.current.style.cssText="display: none;"),e.container&&e.container.current&&e.container.current.classList.add("show")),e.container&&e.container.current&&(e.container.current.addEventListener("hide.bs.collapse",()=>a(!0)),e.container.current.addEventListener("show.bs.collapse",()=>a(!1)))},[]),o.useEffect(()=>{n.listItemCount===0?e.collapseLink&&e.collapseLink.current&&(l()&&e.collapseLink.current.click(),e.collapseLink.current.style.display="none"):n.listItemCount>0&&!l()&&e.collapseLink&&e.collapseLink.current&&e.collapseLink.current.style.display==="none"&&(e.collapseLink.current.style.display="block",r("hide"))},[n.listItemCount]),c.jsx(u,{className:"nav-link add-items","data-bs-toggle":"collapse",to:"#form-collapse",role:"button","aria-expanded":"false","aria-controls":"form-collapse",ref:e.collapseLink,children:t("add-items")})},y=n=>{const{t}=d("common");let e="undo-action",s="redo-action";e+=n.history.canUndo?"":" disabled",s+=n.history.canRedo?"":" disabled";let l=!0;!n.history.canUndo&&!n.history.canRedo?(e+=" hidden",s+=" hidden",l=!1):n.history.canUndo&&!n.history.canRedo&&(s+=" hidden");const a=l?" visible":"";return c.jsxs("div",{className:"history-nav"+a,children:[c.jsx("button",{disabled:!n.history.canUndo,className:e,onClick:()=>n.updateHistory(n.history.undoHistory),children:t("undo")}),c.jsx("button",{disabled:!n.history.canRedo,className:s,onClick:()=>n.updateHistory(n.history.redoHistory),children:t("redo")})]})};export{f as C,y as H,k as a};
