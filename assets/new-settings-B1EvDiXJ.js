import{e as j,a8 as h,r as l,T as v,c as w,j as t,ag as b,ah as I,a7 as c,ai as N,aj as T,ak as D,al as L}from"./index-ECLa9pC-.js";import{G as R,g as E}from"./general-settings-Input-elements-CzdDEpyu.js";import{u as A}from"./useTranslation-Do-q_iX9.js";const F=()=>{const u=j(),d=h(),{t:n}=A("new-settings"),r=l.useContext(v),p=w(o=>o.lists),g=l.useRef(null),f=l.useRef(null),m=l.useRef(null),e={titleInput:g,descInput:f,orderInput:m},x=o=>{o.preventDefault();const y=E(r,e),s={...r,...y},a=b(s.title),S=I(p).includes(a);if(!a||S){let i=n("title-already-exists");a||(i=n("title-is-invalid")),e.titleInput.current!==null&&(e.titleInput.current.focus(),e.titleInput.current.classList.add("is-invalid")),c.error(t.jsxs("p",{children:[n("could-not-add-new-list"),t.jsx("br",{}),i]}))}else{s.type=a,s.orderByDate?s.settings=N:s.settings=T;const i={...s,items:[]};e.titleInput.current!==null&&e.titleInput.current.classList.remove("is-invalid"),console.log(s,"Final settings"),D(i)?(u(L(i)),c.info("New list added"),d("/?type="+s.type)):c.error("Could not add list")}};return t.jsx("div",{className:"date-settings",children:t.jsxs("form",{className:"app-form",onSubmit:x,children:[t.jsx("h1",{children:n("add-new-list")}),t.jsxs("div",{className:"form-group",children:[t.jsx(R,{refs:e,newSetting:!0,settings:r}),t.jsx("div",{className:"form-section",children:t.jsx("button",{type:"submit",className:"btn btn-primary","aria-label":n("add-new-list"),children:n("add-new-list")})})]})]})})};export{F as default};
