import{r as l,j as r,L as u}from"./index-CrTzx7lV.js";import{u as d}from"./useTranslation-BIN0YLdV.js";import{E as f}from"./lists-D2nT8c_k.js";const k=l.createContext({}),C=t=>{const{t:i}=d("common"),e=l.useContext(k),n=l.useRef(!1),o=()=>n.current,a=s=>{n.current=s,s?c("add"):t.listItemCount>0&&c("hide")},c=s=>{e.collapseLink&&e.collapseLink.current&&(s==="hide"?(e.collapseLink.current.classList.remove("add-items"),e.collapseLink.current.classList.add("hide-form"),e.collapseLink.current.innerHTML=i("hide-form")):(e.collapseLink.current.classList.add("add-items"),e.collapseLink.current.classList.remove("hide-form"),e.collapseLink.current.innerHTML=i("add-items")))};return l.useEffect(()=>{t.listItemCount>0?n.current=!0:(e.collapseLink&&e.collapseLink.current&&(e.collapseLink.current.style.cssText="display: none;"),e.container&&e.container.current&&e.container.current.classList.add("show")),e.container&&e.container.current&&(e.container.current.addEventListener("hide.bs.collapse",()=>a(!0)),e.container.current.addEventListener("show.bs.collapse",()=>a(!1)))},[]),l.useEffect(()=>{t.listItemCount===0?e.collapseLink&&e.collapseLink.current&&(o()&&e.collapseLink.current.click(),e.collapseLink.current.style.display="none"):t.listItemCount>0&&!o()&&e.collapseLink&&e.collapseLink.current&&e.collapseLink.current.style.display==="none"&&(e.collapseLink.current.style.display="block",c("hide"))},[t.listItemCount]),r.jsx(u,{className:"nav-link add-items","data-bs-toggle":"collapse",to:"#form-collapse",role:"button","aria-expanded":"false","aria-controls":"form-collapse",ref:e.collapseLink,children:i("add-items")})},x=()=>{const{editMode:t,setEditMode:i}=l.useContext(f),{t:e}=d("common"),n=t?"View":"Edit",[o,a]=l.useState(n),c=s=>{s.preventDefault(),a(t?"Edit":"View"),i(!t)};return r.jsx(u,{className:"nav-link edit-view-toggle"+(t?" edit-toggled":" view-toggled"),to:"#edit-view",role:"button",onClick:s=>c(s),children:e(o)})},g=t=>{const{t:i}=d("common");let e="undo-action",n="redo-action";e+=t.history.canUndo?"":" disabled",n+=t.history.canRedo?"":" disabled";let o=!0;!t.history.canUndo&&!t.history.canRedo?(e+=" hidden",n+=" hidden",o=!1):t.history.canUndo&&!t.history.canRedo&&(n+=" hidden");const a=o?" visible":"";return r.jsxs("div",{className:"history-nav"+a,children:[r.jsx("button",{disabled:!t.history.canUndo,className:e,onClick:()=>t.updateHistory(t.history.undoHistory),children:i("undo")}),r.jsx("button",{disabled:!t.history.canRedo,className:n,onClick:()=>t.updateHistory(t.history.redoHistory),children:i("redo")})]})};export{k as C,x as E,g as H,C as a};
