import{aa as h,ab as b,r as f,T as j,c as v,n as x,ac as I,j as s,L as g,a7 as n}from"./index-dKj0z-t1.js";import{u as T}from"./useTranslation-Q3H9OjDf.js";import{T as S}from"./Trans-Czvpfniq.js";const E=e=>{if(!Array.isArray(e))return[];let o=e.filter(t=>h(t));return o=e.map(t=>b(t)),o.map(t=>{const{collapsed:r,hasChildren:i,...a}=t;return a})},D=()=>{const e=f.useContext(j),o=v(m=>m.lists),{t}=T("settings");let r,i;e.orderByDate?(r=x(e.type,o),i=I(r)):(r=x(e.type,o),i=E(r));let a=JSON.stringify(i),l=null,c=null,p=t("there-are-no-list-items-to-export-yet");const u=t("copied-data-to-clipboard"),d=t("unable-to-copy-data-to-clipboard"),y=m=>{navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(a).then(function(){n.info(u)},function(C){n.error(d)}):n.error(d)};return i.length>0&&(p=s.jsxs(S,{t,i18nKey:"export-list-items-on-to-other-devices",values:{list:e.title},children:["Use the list item data below to import (",s.jsx(g,{to:"/?type="+e.type,children:"list"}),") list items on to other devices"]}),l=s.jsx("div",{className:"form-section",children:s.jsx("button",{type:"button",className:"btn btn-outline-secondary","aria-label":t("copy-list-item-data-to-clipboard"),onClick:y,children:t("copy-list-item-data-to-clipboard")})}),c=s.jsx("div",{className:"form-section",children:s.jsx("code",{children:a})})),s.jsxs("div",{className:"export-settings",children:[s.jsx("h3",{children:t("export-list-items")}),s.jsx("p",{children:p}),c,l]})};export{D as default};
